<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>COMPRAS SUPERMERCADO</title>
<style>
body{font-family:Arial;background:#f2f4f8;margin:0;padding:20px}
h1{text-align:center}
.section{background:#1e88e5;color:white;padding:10px;border-radius:12px;margin-top:20px}
.row{display:grid;grid-template-columns:2fr 1fr 1fr 0.5fr;gap:5px;margin-top:5px}
input{padding:8px}
.total{font-size:24px;text-align:center;margin:30px}
</style>
</head>
<body>

<h1>ðŸ›’ COMPRAS SUPERMERCADO</h1>
<input type="text" id="buscar" placeholder="BUSCAR PRODUCTO..." onkeyup="filtrar()">

<div id="productos"></div>
<div class="total">TOTAL: $<span id="total">0.00</span></div>

<script>
const data={
CARNES:["RES","POLLO","CERDO","CHORIZO","SALCHICHA","JAMON","TOCINO","PESCADO","CAMARON","ATUN"],
FRUTAS:["MANZANA","PLATANO","NARANJA","PERA","UVA","MANGO","PINA","FRESA","SANDIA","MELON"],
VERDURAS:["TOMATE","CEBOLLA","PAPA","ZANAHORIA","LECHUGA","PEPINO","CHILE","BROCOLI","COLIFLOR","ESPINACA"],
LACTEOS:["LECHE","QUESO","CREMA","YOGUR","MANTEQUILLA","REQUESON","NATA"],
PANADERIA:["PAN BLANCO","PAN INTEGRAL","BOLILLO","CONCHA","DONAS","CUERNITO","BISQUET"]
};

const cont=document.getElementById("productos");

for(let cat in data){
 cont.innerHTML+=`<div class='section'>${cat}</div>`;
 data[cat].forEach(p=>{
  cont.innerHTML+=`
  <div class="row item">
    <input type="text" value="${p}" readonly>
    <input type="number" min="0" placeholder="CANT" oninput="calc()">
    <input type="number" min="0" placeholder="PRECIO" oninput="calc()">
    <input type="checkbox" onchange="calc()">
  </div>`;
 });
}

function calc(){
 let t=0;
 document.querySelectorAll(".item").forEach(r=>{
  let c=r.children[1].value;
  let p=r.children[2].value;
  if(r.children[3].checked && c && p){t+=c*p;}
 });
 document.getElementById("total").innerText=t.toFixed(2);
}

function filtrar(){
 let q=document.getElementById("buscar").value.toUpperCase();
 document.querySelectorAll(".item").forEach(r=>{
  r.style.display=r.children[0].value.includes(q)?"grid":"none";
 });
}
</script>
</body>
</html>
